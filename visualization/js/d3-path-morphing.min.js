!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t,n){var r=t,i=n,u=e(r,i),o=[];return r=u[0],i=u[1],u=u[2],function(t){o=[];for(var n=0,e=r.length;n<e;n++){o[n]=[r[n][0]];var i;i=r[n]?r[n].length:0;for(var l=1;l<i;l++)o[n][l]=+r[n][l]+t*u[n][l];o[n]=o[n].join(" ")}return o.join(" ")}}function e(t,n){var e,i=[],u=[],o=0,a=0,f=l(t,n);for(f=r(f[0],f[1]),i=f[1],u=f[0],e=[],o=0,a=u.length;o<a;o++){e[o]=[0];var h;h=u[o]?u[o].length:0;for(var s=1;s<h;s++)e[o][s]=i[o][s]-u[o][s]}return[u,i,e]}function r(t,n){function e(t,n){function e(t){for(var n=t.length;n--&&t[n].join("")===t[n-1].join("");)t.pop()}function r(t){for(var n="",e=0,r=t.length;e<r;++e)n+=t[e].join(" ");return n}var i,u,o="",l="";return d.setAttribute("d","M300 10 L300 300 C50 310,50 640,350 650C600 640,600 310,400 300 L400 10 L295 10"),i=d.getTotalLength(),u=d.getPointAtLength(10),i<1829.1||i>1829.2||(300!==Math.round(u.x)||20!==Math.round(u.y)||(e(t),e(n),o=r(t),l=r(n),!(o.split(/[Mm]/).length>2||l.split(/[Mm]/).length>2)&&t.length===n.length))}function r(t){var n=[],e=0,r=t.length;if("string"==typeof t)return t;for(e=0;e<r;++e){if(!t[e].join)return;e&&t[e+1]&&"M"===t[e+1][0]&&"M"===t[e][0]||n.push(t[e].join(" "))}for(n=n.join(""),n=n.split(/[Mm]/).slice(1),e=0,r=n.length;e<r;++e)n[e]="M"+n[e];return n}function i(t){var n=0,e=0,r=[];for(t=t||[],e=t.length,n=0;n<e;++n)t[n].length-1&&r.push(t[n].join(" "));return r.join("")}function o(t){for(var n=t.length;n-- -1;)t[n].toString()===t[n-1].toString()&&t.pop()}function l(t,n){for(var e=[],r=[],i=t.length,u=0,o=0,l=0,a=0,f=0,h=n-i;h>=0;)u=t.length-1,t.push(t.slice(u)),--h;for(i=t.length,u=0;u<=n;++u)r.push(Math.round(u/n*i));for(u=0,o=r.length-1;u<o;++u)e.push(t.slice(r[u],r[u+1])),"M"!==e[u][0][0]&&"m"!==e[u][0][0]&&(a=e[u-1].length-1,l=e[u-1][a][1],f=e[u-1][a][2],e[u].unshift(["M",l,f]));return e}function a(t){var n=[],e=[],r=[],i=0,u=0,o=!0;if(0!==t){for(t>0?(n=c,o=!1):(t=-t,n=g),i=0,u=n.length;i<u;++i)e.push(1);for(;t--;)--i,i<0&&(i=u-1),e[i]++;for(i=0;i<u;++i)1===e[i]?r.push(n[i]):r.push.apply(r,l(n[i],e[i]));o?g=r:c=r}}var f,h=[],s=[],g=r(t),c=r(n),p=0,x=0,y=document.createElementNS&&document.createElementNS.bind(document),d=y&&y("http://www.w3.org/2000/svg","path");if(!g||!c||!d)return[t,n];if(e(t,n))return[t,n];if(!t||!n)return[t,n];if(!document.createElementNS)return[t,n];if(g=r(t),c=r(n),g.join().indexOf("undefined")!==-1)return[t,n];if(c.join().indexOf("undefined")!==-1)return[t,n];if(!d.getTotalLength||!d.getPointAtLength)return[t,n];for(x=Math.max(g.length,c.length),p=0;p<x;++p)f=u(g[p],c[p]),g[p]=f[0],c[p]=f[1];for(o(g),o(c),a(g.length-c.length),x=Math.max(g.length,c.length),p=0;p<x;++p)f=u(i(g[p]),i(c[p])),g[p]=f[0],c[p]=f[1];for(p=0,x=g.length;p<x;++p)h=h.concat(g[p]);for(p=0,x=c.length;p<x;++p)s=s.concat(c[p]);return[h,s]}function i(t,n){function e(t){var n=0,e=0;for(t=t.split(/[MCLmcl]/).slice(1),n=0,e=t.length;n<e;++n)t[n]=t[n].split(" ").slice(1),n||t[n].unshift("M"),n&&(2===t[n].length&&t[n].unshift("L")||t[n].unshift("C"));return t}function r(t,n){var e,r,i=0,u=t.length;for(i=0,u=t.length;i<u;++i)e=t[i].join(" "),r=t[i],"C"===r[0]&&r[3]===r[5]&&r[4]===r[6]?t[i].stringValue=["L",r[3],r[4]].join(" "):r.stringValue=e,n[r.stringValue]&&n[r.stringValue].push(i),n[r.stringValue]||(n[r.stringValue]=[i])}function i(t,n,e,r,i){for(var u,o=e,l=0,a=0;o<r;++o)if(u=n[t[o].stringValue])for(l=0,a=u.length;l<a;++l)if(u[l]>=i)return{index:o,mapValue:u[l],diff:o-e};return-1}function u(t){var n=t.length-1;return["M",t[n-1],t[n]].join(" ")}function o(t){return t.join("")}var l,a,f=0,h=0,s=0,g=0,c=0,p=0,x={},y={},d=[],v=[],M=-1,b=-1,m=!0;for(t=e(t),n=e(n),r(t,x),r(n,y),s=t.length,g=n.length,f=0,h=0;f<s&&h<g;){if(++M,++b,d[M]=[],v[b]=[],m=t[f].stringValue===n[h].stringValue,f&&(d[M].push(u(t[f-1])),v[b].push(u(n[h-1]))),m)for(;f<s&&h<g&&t[f].stringValue===n[h].stringValue;)d[M].push(t[f].stringValue),v[b].push(n[h].stringValue),++f,++h;else{for(l=i(t,y,f,s,h),a=i(n,x,h,g,f),c=l.index,p=l.mapValue,(!~l||l.diff>a.diff)&&(c=a.mapValue,p=a.index),~l||~a||(c=s-1,p=g-1);f<=c;)d[M].push(t[f].stringValue),++f;for(;h<=p;)v[b].push(n[h].stringValue),++h}d[M]=o(d[M]),v[b]=o(v[b])}if(f<s){for(++M,d[M]=[],d[M].push(u(t[f-1])),++b,v[b]=[],v[b].push(u(n[h-1]));f<s;)d[M].push(t[f].stringValue),++f;d[M]=o(d[M])}if(h<g){for(++M,d[M]=[],d[M].push(u(t[f-1])),++b,v[b]=[],v[b].push(u(n[h-1]));h<g;)v[b].push(n[h].stringValue),++h;v[b]=o(v[b])}return[d,v]}function u(t,n){function e(t,n){var e,r,i=0,u={},o=0,l=0,a=[],f=[],h=0,s=Math.round;for(e=document.createElementNS("http://www.w3.org/2000/svg","path"),e.setAttribute("d",t),r=document.createElementNS("http://www.w3.org/2000/svg","path"),r.setAttribute("d",n),o=e.getTotalLength(),l=r.getTotalLength(),h=.15*Math.max(o,l),h=Math.ceil(h),(!h||!isFinite(h)||h<10)&&(h=10),i=0;i<=h;++i)u=e.getPointAtLength(i/h*o),a.push([i?"L":"M",s(u.x),s(u.y)]),u=r.getPointAtLength(i/h*l),f.push([i?"L":"M",s(u.x),s(u.y)]);return[a,f]}var r,u,o=0,l=0,a=[],f=[];for(t&&"M  "!==t||(t=n.split(" ").slice(0,3).join(" ").replace("L","")),n&&"M  "!==n||(n=t.split(" ").slice(0,3).join(" ").replace("L","")),r=i(t,n),o=0,l=r[0].length;o<l;++o)u=e(r[0][o],r[1][o]),o?(a=a.concat(u[0].slice(1)),f=f.concat(u[1].slice(1))):(a=a.concat(u[0]),f=f.concat(u[1]));return[a,f]}function o(t){for(var n=t.split(/(?=[LMC])/),e=0,r=n.length,i=0,u=0,o=[],l="";e<r;++e)/[zZ]/.test(n[e])&&n[e].length-1&&(n.splice(e+1,0,"Z"),++r);for(e=0;e<r;++e)if(l=n[e],1!==l.length){for(o=l.substr(1).split(","),o.unshift(l[0]),i=1,u=o.length;i<u;++i)o[i]=parseFloat(o[i]);n[e]=o}return n}function l(t,n){for(var e=o(t),r=o(n),i=Math.max,u="concat",l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(t,n){var e,r;if(!t)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(t[0]in{T:1,Q:1})&&(n.qx=n.qy=null),t[0]){case"M":n.X=t[1],n.Y=t[2];break;case"A":break;case"S":e=n.x+(n.x-(n.bx||n.x)),r=n.y+(n.y-(n.by||n.y)),t=["C",e,r][u](t.slice(1));break;case"T":n.qx=n.x+(n.x-(n.qx||n.x)),n.qy=n.y+(n.y-(n.qy||n.y)),t=["C"][u](f(n.x,n.y,n.qx,n.qy,t[1],t[2]));break;case"Q":n.qx=t[1],n.qy=t[2],t=["C"][u](f(n.x,n.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][u](a(n.x,n.y,t[1],t[2]));break;case"H":t=["C"][u](a(n.x,n.y,t[1],n.y));break;case"V":t=["C"][u](a(n.x,n.y,n.x,t[1]));break;case"Z":t=["C"][u](a(n.x,n.y,n.X,n.Y))}return t}),g=function(t,n){if(t[n].length>7){t[n].shift();for(var o=t[n];o.length;)t.splice(n++,0,["C"][u](o.splice(0,6)));t.splice(n,1),x=i(e.length,r&&r.length||0)}},c=function(t,n,u,o,l){t&&n&&"M"==t[l][0]&&"M"!=n[l][0]&&(n.splice(l,0,["M",o.x,o.y]),u.bx=0,u.by=0,u.x=t[l][1],u.y=t[l][2],x=i(e.length,r&&r.length||0))},p=0,x=i(e.length,r&&r.length||0);p<x;p++){e[p]=s(e[p],l),g(e,p),r&&(r[p]=s(r[p],h)),r&&g(r,p),c(e,r,l,h,p),c(r,e,h,l,p);var y=e[p],d=r&&r[p],v=y.length,M=r&&d.length;l.x=y[v-2],l.y=y[v-1],l.bx=parseFloat(y[v-4])||l.x,l.by=parseFloat(y[v-3])||l.y,h.bx=r&&(parseFloat(d[M-4])||h.x),h.by=r&&(parseFloat(d[M-3])||h.y),h.x=r&&d[M-2],h.y=r&&d[M-1]}return[e,r]}function a(t,n,e,r){return[t,n,e,r,e,r]}function f(t,n,e,r,i,u){var o=1/3,l=2/3;return[o*t+l*e,o*n+l*r,o*i+l*e,o*u+l*r,i,u]}t.morphPath=n,Object.defineProperty(t,"__esModule",{value:!0})});